# =============================================================================
# VERTEX OS - Environment Variables Template
# =============================================================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local to version control
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE (Supabase PostgreSQL)
# -----------------------------------------------------------------------------
# Get from: https://app.supabase.com/project/_/settings/database
DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres"
DIRECT_URL="postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres"

# -----------------------------------------------------------------------------
# SUPABASE
# -----------------------------------------------------------------------------
# Get from: https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL="https://[YOUR-PROJECT-REF].supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-anon-key-here"
SUPABASE_SERVICE_ROLE_KEY="your-service-role-key-here"

# -----------------------------------------------------------------------------
# AUTHENTICATION
# -----------------------------------------------------------------------------
# JWT secret for signing tokens (generate with: openssl rand -base64 32)
JWT_SECRET="your-super-secret-jwt-key-min-32-characters"
JWT_EXPIRES_IN="7d"

# -----------------------------------------------------------------------------
# STRIPE
# -----------------------------------------------------------------------------
# Get from: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY="sk_test_..."
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_..."

# Webhook signing secret (get after creating webhook)
STRIPE_WEBHOOK_SECRET="whsec_..."

# Connect (for cleaner payouts)
STRIPE_CONNECT_WEBHOOK_SECRET="whsec_..."

# Product/Price IDs
STRIPE_ELITE_PRICE_ID="price_..."  # Elite membership monthly subscription
STRIPE_CERTIFICATION_PRICE_ID="price_..."  # Cleaner annual certification

# -----------------------------------------------------------------------------
# EMAIL (SendGrid)
# -----------------------------------------------------------------------------
SENDGRID_API_KEY="SG...."
SENDGRID_FROM_EMAIL="notifications@redshirtclub.com"
SENDGRID_FROM_NAME="Red Shirt Club"

# Email Template IDs
SENDGRID_TEMPLATE_BOOKING_CONFIRMATION="d-..."
SENDGRID_TEMPLATE_JOB_REMINDER="d-..."
SENDGRID_TEMPLATE_JOB_COMPLETED="d-..."
SENDGRID_TEMPLATE_LEAD_FOLLOWUP="d-..."

# -----------------------------------------------------------------------------
# SMS (Twilio)
# -----------------------------------------------------------------------------
TWILIO_ACCOUNT_SID="AC..."
TWILIO_AUTH_TOKEN="..."
TWILIO_PHONE_NUMBER="+1234567890"

# -----------------------------------------------------------------------------
# BACKGROUND CHECKS
# -----------------------------------------------------------------------------
# Choose provider: checkr | certn | sterling
BACKGROUND_CHECK_PROVIDER="checkr"

# Checkr (https://dashboard.checkr.com/)
CHECKR_API_KEY="..."
CHECKR_WEBHOOK_SECRET="..."

# -----------------------------------------------------------------------------
# FILE STORAGE
# -----------------------------------------------------------------------------
# Using Supabase Storage (alternative: AWS S3, Cloudinary)
NEXT_PUBLIC_STORAGE_BUCKET="vertex-os-files"

# If using AWS S3 instead:
# AWS_ACCESS_KEY_ID="..."
# AWS_SECRET_ACCESS_KEY="..."
# AWS_S3_BUCKET="vertex-os-uploads"
# AWS_REGION="us-west-2"

# -----------------------------------------------------------------------------
# MONITORING & ANALYTICS
# -----------------------------------------------------------------------------
# Sentry (error tracking)
NEXT_PUBLIC_SENTRY_DSN="https://...@sentry.io/..."
SENTRY_AUTH_TOKEN="..."

# PostHog (analytics)
NEXT_PUBLIC_POSTHOG_KEY="phc_..."
NEXT_PUBLIC_POSTHOG_HOST="https://app.posthog.com"

# -----------------------------------------------------------------------------
# APPLICATION
# -----------------------------------------------------------------------------
NODE_ENV="development"  # development | production | test
NEXT_PUBLIC_APP_URL="http://localhost:3000"
NEXT_PUBLIC_API_URL="http://localhost:3000/api"

# Admin CRM
ADMIN_EMAIL="admin@redshirtclub.com"  # Default admin account

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
# Requests per minute per IP
RATE_LIMIT_PUBLIC="60"
RATE_LIMIT_AUTHENTICATED="300"

# -----------------------------------------------------------------------------
# FEATURES FLAGS
# -----------------------------------------------------------------------------
FEATURE_AUTO_MATCHING="true"  # Enable automatic cleaner matching
FEATURE_AUTO_PAYOUTS="false"  # Enable automatic weekly payouts
FEATURE_CONCIERGE_BOOKING="true"  # Elite member concierge feature
FEATURE_REAL_TIME_UPDATES="true"  # Real-time job status updates

# -----------------------------------------------------------------------------
# DEVELOPMENT ONLY
# -----------------------------------------------------------------------------
# Skip email/SMS in development (log to console instead)
SKIP_EMAILS="true"
SKIP_SMS="true"

# Seed database on startup
AUTO_SEED="false"

# Enable debug logging
DEBUG="false"

# Mock Stripe in tests
MOCK_STRIPE="true"

# -----------------------------------------------------------------------------
# TESTING
# -----------------------------------------------------------------------------
TEST_DATABASE_URL="postgresql://postgres:postgres@localhost:5433/vertex_test"
TEST_STRIPE_SECRET_KEY="sk_test_..."


